<!DOCTYPE html>
<html ng-app="app">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>

</head>
<body>

	<script type="text/javascript">
		angular.module('app', []).controller('PasswordController',
				function PasswordController($scope) {
					$scope.password = '';
					$scope.grade = function() {
						var size = $scope.password.length;
						if (size > 8) {
							$scope.strength = 'strong';
						} else if (size > 3) {
							$scope.strength = 'medium';
						} else {
							$scope.strength = 'weak';
						}
					};
				});

		describe(
				'PasswordController',
				function() {
					beforeEach(module('app'));

					var $controller;

					beforeEach(inject(function(_$controller_) {
						// The injector unwraps the underscores (_) from around the parameter names when matching
						$controller = _$controller_;
					}));

					describe(
							'$scope.grade',
							function() {
								it(
										'sets the strength to "strong" if the password length is >8 chars',
										function() {
											var $scope = {};
											var controller = $controller(
													'PasswordController', {
														$scope : $scope
													});
											$scope.password = 'longerthaneightchars';
											$scope.grade();
											expect($scope.strength).toEqual(
													'strong');
										});
							});
				});
	</script>

</body>
</html>